
# 별 찍기 - 11 (2448)

https://www.acmicpc.neBt/problem/2448


## Approach

> 다른 사람은 재귀함수를 사용했다면, N을 넘겨줬을 것 같은데
> N이 아니라 N/2를 활용해야하는게 생각할 부분이 많아져서 UNIT = N/2로 두고 값을 넘겨줬다. (코드 참고)

### 1 빈 공간(역삼각형) 처리

$3 \times 2^k$ 에서 $3 \times 2^{k-1}$ 줄 밑으로  
즉, 절반 밑부터 역삼각형으로 빈 구간  

이 빈 구간을 먼저 처리하고, 재귀를 통해 나머지 부분도 파악한다.

#### EX 0 ( $3 \times 2^0 = 3$ )

이건 예외 사항으로 둬야함

```
  *  
 * * 
*****
```
아래 예외랑 같이 처리하면 너무 복잡하니 걍 얘는 제일 처음 검사하고 출력해 끝낸다.

```java
System.out.println("  *   \n * *  \n*****");
```

#### EX 1 ( $3 \times 2^1 = 6$ )

```
     *     
    * *    
   *****   
  *     *  
 * *   * * 
***** *****
```
UNIT = 3
4번째 줄부터 역삼각형(5,3,1)

여기도 아래의 규칙이 맞지 않는다 -> 예외를 둬야 한다.

#### EX 2 ( $3 \times 2^2 = 12$ )

```
           *           
          * *          
         *****         
        *     *        
       * *   * *       
      ***** *****      
     *           *     
    * *         * *    
   *****       *****   
  *     *     *     *  
 * *   * *   * *   * * 
***** ***** ***** *****
```

7번째 줄부터 역삼각형(11,9,7,5,3,1)

#### EX 3 ($3 \times 2^3 = 24$)

```
                       *                        
                      * *                       
                     *****                      
                    *     *                     
                   * *   * *                    
                  ***** *****                   
                 *           *                  
                * *         * *                 
               *****       *****                
              *     *     *     *               
             * *   * *   * *   * *              
            ***** ***** ***** *****             
           *                       *            
          * *                     * *           
         *****                   *****          
        *     *                 *     *         
       * *   * *               * *   * *        
      ***** *****             ***** *****       
     *           *           *           *      
    * *         * *         * *         * *     
   *****       *****       *****       *****    
  *     *     *     *     *     *     *     *   
 * *   * *   * *   * *   * *   * *   * *   * *  
***** ***** ***** ***** ***** ***** ***** *****
```

- `a0 = UNIT*2+1` 
- `a1 = UNIT*2-1`
- `a2 = UNIT*2-3`


---

```
[column에 따른 중앙 역삼각형 가로 길이] = 
UNIT * 2 + 1 - 2 * (column - UNIT) = 
4 * UNIT - 2 * row + 1
```

```java
// (column, row)
// UNIT = 12, 

len = 4 * UNIT - 2 * row + 1
if(column > UNIT){
    if(row > UNIT && row <= UNIT + len){
        print(*)
    }
}
```
대충 이런 느낌으로 접근

---

이를 통해 다음과 같은 코드를 완성할 수 있다.
```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Main {
    public static void main(String[] args) throws NumberFormatException, IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int N = Integer.parseInt(br.readLine());

        for(int column=1; column <= N; column++) {
            for(int row=1; row <= N*2; row++) {
                drawStar(column, row, N/2);
            }
            System.out.println();
        }
    }

    private static void drawStar(int column, int row, int unit){
        if(unit == 3){
            System.out.print("*");
            return;
        };
        
        int rowRange = 4 * unit - 2 * column + 1;   // 중앙 역삼각형의 column에 따른 가로 길이
        
        if(column > unit) {
            if(row < column) {
                drawStar(column-unit, row, unit/2);
                return;
            } else if(row >= column + rowRange) {
                drawStar(column-unit, row - unit * 2, unit/2);
                return;
            } else {
                // 중앙 역삼각형 범위 내의 값
                System.out.print(" ");
                return;
            }
        } else {
            drawStar(column, row - unit, unit/2);
            return;
        }
    }
}
```

`input = 24`의 출력 결과 :

```
************************************************
************************************************
************************************************
************************************************
************************************************
************************************************
******************           *******************
*******************         ********************
********************       *********************
*********************     **********************
**********************   ***********************
*********************** ************************
************                       *************
*************                     **************
**************                   ***************
***************                 ****************
****************               *****************
*****************             ******************
******           *           *           *******
*******         ***         ***         ********
********       *****       *****       *********
*********     *******     *******     **********
**********   *********   *********   ***********
*********** *********** *********** ************
```

### 2 나머지 처리

#### 가장 큰 삼각형 외부 빈 공간 처리

이 부분은 한 번만 처리해주면 되니까 재귀하는 함수에 넣으면 좋지 않을 것 같다.
초기 for문에서 처리한다.

#### N=3, N=6 일때 예외 처리

위에서 본 것 처럼 가장 처음의 2가지 경우에서 예외 패턴이 발생하는 것 같다.

고민해봤는데, 걍 일일히 처리해주는게(else-if문으로) 더 빠르고 편할 것 같다.

그래서 N=3일 때는 N 입력후 가장 먼저 확인하고,
재귀 함수에서 최종적으로 N=6 (UNIT = 3)에 도달하게 될텐데
재귀 함수의 가장 처음에 확인하고 일일히 처리했다.

```java
if(unit == 3) {
    if(column == 2 && row == 6)
        return false;
    else if(column == 5 && (row == 3 || row == 9) )
        return false;
    else if( column > 3 && row >= column && row < 13 - column )
        return false;
    else
        return true;
}
```
